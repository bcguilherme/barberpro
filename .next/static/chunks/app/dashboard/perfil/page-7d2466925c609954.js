(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6669],{8888:function(e,s,t){Promise.resolve().then(t.bind(t,845))},7604:function(e,s,t){"use strict";t.d(s,{a:function(){return a}}),t(3827);var r=t(4090);let l=(0,r.createContext)({currentUser:null,logout:()=>{},isLoading:!0});function a(){return(0,r.useContext)(l)}},845:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var r=t(3827),l=t(4090),a=t(7604),i=t(8121),n=t(6142),c=t(7065),d=t(4905);let o=(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)({apiKey:"AIzaSyDc4piI0jJGU2vHICOboqMiJT343vqUjzI",authDomain:"barberpro-7810b.firebaseapp.com",projectId:"barberpro-7810b",storageBucket:"barberpro-7810b.firebasestorage.app",messagingSenderId:"459293555313",appId:"1:459293555313:web:a0547f2222c284e4e8f9d0"}),u=(0,i.ad)(o);function x(){var e;let{currentUser:s}=(0,a.a)(),[t,n]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async function(){if(s)try{let e=await (0,i.QT)((0,i.JU)(u,"users",s.uid));e.exists()?n(e.data()):n({name:s.displayName||"Usu\xe1rio",email:s.email||"",role:"user",createdAt:new Date().toISOString()})}catch(e){console.error("Erro ao carregar perfil:",e)}finally{d(!1)}})()},[s]),c)?(0,r.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,r.jsx)("div",{className:"h-16 w-16 animate-spin rounded-full border-t-4 border-purple-600"})}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Meu Perfil"})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,r.jsx)("div",{className:"flex-shrink-0 self-center",children:(0,r.jsx)("div",{className:"w-32 h-32 rounded-full bg-purple-100 flex items-center justify-center overflow-hidden",children:(null==s?void 0:s.photoURL)?(0,r.jsx)("img",{src:s.photoURL,alt:"Foto de perfil",className:"w-full h-full object-cover"}):(0,r.jsx)("span",{className:"text-4xl font-bold text-purple-600",children:(null==t?void 0:null===(e=t.name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"U"})})}),(0,r.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:null==t?void 0:t.name}),(0,r.jsx)("p",{className:"text-gray-500",children:null==t?void 0:t.email})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Tipo de conta"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:(null==t?void 0:t.role)==="admin"?"Administrador":"Usu\xe1rio"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Membro desde"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:(null==t?void 0:t.createdAt)?new Date(t.createdAt).toLocaleDateString("pt-BR"):"N/A"})]})]}),(0,r.jsx)("div",{className:"pt-6",children:(0,r.jsx)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Editar perfil"})})]})]})})]})}(0,c.v0)(o),(0,d.cF)(o),new c.hJ}},function(e){e.O(0,[8657,4358,9703,3649,2971,8069,1744],function(){return e(e.s=8888)}),_N_E=e.O()}]);